var O=Object.defineProperty;var P=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var U=(t,e,n)=>e in t?O(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B=(t,e)=>{for(var n in e||(e={}))j.call(e,n)&&U(t,n,e[n]);if(P)for(var n of P(e))H.call(e,n)&&U(t,n,e[n]);return t};import{r as d,o as i,c as l,a as u,w as g,b as s,d as x,e as q,t as f,F as D,f as F,g as E,C as z,L as Y,h as J,i as K,P as W,j as G,k as Q,l as X,m as v,v as y,n as I,p as Z,q as tt,s as et,u as nt}from"./vendor.a0bfafc0.js";const ot=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}};ot();var st="/bitwallet/assets/cryptocurrencies.2b750693.png",h=(t,e)=>{const n=t.__vccOpts||t;for(const[r,a]of e)n[r]=a;return n};const at={computed:{user(){return this.$store.getters.user}}},rt={key:0,class:"app-header flex space-between main-layout"},ct=s("h3",null,[s("img",{src:st,alt:""}),x(" BitWallet ")],-1),it=x("Contacts"),lt={key:1};function ut(t,e,n,r,a,o){const c=d("RouterLink");return o.user?(i(),l("section",rt,[u(c,{to:"/"},{default:g(()=>[ct]),_:1}),u(c,{to:"/contact"},{default:g(()=>[it]),_:1})])):(i(),l("h3",lt,"BitWallet"))}var dt=h(at,[["render",ut]]);const mt={components:{AppHeader:dt},async created(){await this.$store.dispatch({type:"loadContacts"}),await this.$store.dispatch({type:"loadUser"})}},pt={class:"app"};function ht(t,e,n,r,a,o){const c=d("AppHeader"),m=d("RouterView");return i(),l("div",pt,[u(c),u(m)])}var _t=h(mt,[["render",ht]]);const p={storeToStorage:ft,loadFromStorage:gt,getRandomInt:L,getRandomId:vt,getDate:yt,getAvgValues:$t};function ft(t,e){localStorage.setItem(t,JSON.stringify(e)||null)}function gt(t){let e=localStorage.getItem(t);return e?JSON.parse(e):void 0}function vt(){var t=Date.now().toString(16),e=L(1e3,9999).toString(16),n=L(1e3,9999).toString(16);return`${n}-${t}-${e}`.toUpperCase()}function L(t,e){var n=t>=e?t+1:e+1,r=t<=e?t:e;return Math.floor(Math.random()*(n-r))+r}function yt(t){const e=new Date(t);return`${e.getDate()}/${e.getMonth()}/${e.getFullYear()}`}function $t(t){t.splice(150,1);let e=t.length/5,n=[],r=0;for(let a=0;a<5;a++){let o=0;for(let c=r;c<e+r;c++)o+=t[c].y;console.log({avg:o}),o=o/e,n.push(o),r+=30}return console.log({newArr:n}),n}const $={query:b,get:Ct,remove:wt,post:xt,put:bt,insert:St},C="_id";function b(t){let e=p.loadFromStorage(t);return e||(e=[]),Promise.resolve(e)}async function Ct(t,e){return(await b(t)).find(r=>r[C]===e)}async function wt(t,e){const n=await b(t),r=n.findIndex(a=>a[C]===e);if(e===-1)throw new Error("Could not find item");return n.splice(r,1),p.storeToStorage(t,n),Promise.resolve()}async function xt(t,e){const n=await b(t);return e[C]=p.getRandomId(),n.push(e),p.storeToStorage(t,n),Promise.resolve(e)}async function bt(t,e){const n=await b(t),r=n.findIndex(a=>a[C]===e._id);if(r===-1)throw new Error("Could not find item");return n[r]=e,p.storeToStorage(t,n),Promise.resolve(e)}async function St(t,e){const n=await b(t);return e.forEach(r=>{r[C]||(r[C]=p.getRandomId())}),n.push(...e),p.storeToStorage(t,n),Promise.resolve()}var Tt={getRate:Et,getMarketPrice:kt};async function Et(t){try{return(await fetch("https://blockchain.info/tobtc?currency=USD&value="+t)).json()}catch(e){console.log("Encountered error:",e)}}async function kt(){try{const t=await q.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true");let{values:e}=t.data;return e}catch(t){console.log("Encountered error:",t)}}var Lt="/bitwallet/assets/bitcoin.6a7dd371.png";const It={props:{title:String,moves:Array},methods:{getDate(t){return p.getDate(t)}}},Mt={key:0,class:"move-list flex column"},Pt={class:"moves-title flex"},Ut=s("img",{src:Lt},null,-1),Bt={class:"clean-list"},Dt={class:"flex space-between"},Ft=s("h6",null,"Status: approved",-1);function Rt(t,e,n,r,a,o){return n.moves?(i(),l("section",Mt,[s("div",Pt,[Ut,s("h4",null,f(n.title),1)]),s("ul",Bt,[(i(!0),l(D,null,F(n.moves,(c,m)=>(i(),l("li",{key:c.toId+":"+m,class:"flex column space-around"},[s("div",Dt,[s("h5",null,f(c.to),1),s("p",null,f(c.amount),1)]),Ft,s("p",null,f(o.getDate(c.at)),1)]))),128))])])):E("",!0)}var R=h(It,[["render",Rt]]);z.register(Y,J,K,W,G);const At={components:{LineChart:Q},props:{chartdata:Array},data(){return{labels:["5 month","4 month","3 month","2 month","last month"],datasets:[{label:"Bitcoin",data:p.getAvgValues(this.chartdata),backgroundColor:"#fff",borderColor:"rgb(75, 192, 192)",tension:.1}],options:{title:{text:"Bitcoin"}}}},computed:{chartData(){return{labels:this.labels,datasets:this.datasets}}}},Vt={class:"chart"};function Nt(t,e,n,r,a,o){const c=d("LineChart");return i(),l("div",Vt,[u(c,{"chart-data":o.chartData,options:a.options},null,8,["chart-data","options"])])}var Ot=h(At,[["render",Nt]]);const jt={components:{MoveList:R,Chart:Ot},data(){return{rate:null,chartdata:null}},async created(){this.chartdata=await Tt.getMarketPrice()},computed:{user(){return this.$store.getters.user},moves(){const t=[...this.user.moves];return t.sort((e,n)=>n.at-e.at),t.splice(0,5)},title(){return"Last 5 moves"}},methods:{}},Ht={class:"home-page main-layout flex width-all space-around"},qt={class:"bitcoin-user-info flex column"},zt=s("h4",null,"Bitcoin value range for the past 5 months:",-1);function Yt(t,e,n,r,a,o){const c=d("Chart"),m=d("MoveList");return i(),l("section",Ht,[s("div",qt,[s("h1",null,"Hello "+f(o.user.name),1),s("h3",null,"You currently have "+f(o.user.coins)+" bitcoins",1),zt,a.chartdata?(i(),X(c,{key:0,coins:o.user.coins,chartdata:a.chartdata},null,8,["coins","chartdata"])):E("",!0)]),u(m,{moves:o.moves,title:o.title},null,8,["moves","title"])])}var Jt=h(jt,[["render",Yt]]),Kt="/bitwallet/assets/google-contacts.6490d0ec.png";const Wt={props:{contact:Object}},Gt={class:"contact-preview"},Qt=s("img",{src:Kt},null,-1);function Xt(t,e,n,r,a,o){const c=d("RouterLink");return i(),l("section",Gt,[u(c,{to:`/contact/${n.contact._id}`,class:"flex"},{default:g(()=>[Qt,s("div",null,[s("h4",null,f(n.contact.name),1),s("p",null,f(n.contact.phone),1)])]),_:1},8,["to"])])}var Zt=h(Wt,[["render",Xt]]);const te={props:{contacts:Array},components:{ContactPreview:Zt}},ee={class:"contact-list"},ne={class:"clean-list flex column justify-center"},oe=x("+");function se(t,e,n,r,a,o){const c=d("ContactPreview"),m=d("RouterLink");return i(),l("section",ee,[s("ul",ne,[(i(!0),l(D,null,F(n.contacts,_=>(i(),l("li",{key:_._id,contact:"contact-preview-container flex"},[u(c,{contact:_},null,8,["contact"])]))),128))]),u(m,{to:"/contact/edit",class:"add-contact"},{default:g(()=>[oe]),_:1})])}var ae=h(te,[["render",se]]);const re={data(){return{filterBy:{name:""}}},methods:{setFilter(){this.$emit("set-filter",this.filterBy)}}},ce={class:"contact-filter"};function ie(t,e,n,r,a,o){return i(),l("section",ce,[v(s("input",{type:"text",placeholder:"Search contacts","onUpdate:modelValue":e[0]||(e[0]=c=>a.filterBy.name=c),onInput:e[1]||(e[1]=(...c)=>o.setFilter&&o.setFilter(...c))},null,544),[[y,a.filterBy.name]])])}var le=h(re,[["render",ie]]);const ue={components:{ContactList:ae,ContactFilter:le},data(){return{filterBy:null}},methods:{setFilter(t){this.filterBy=t}},computed:{contacts(){return this.$store.getters.contacts},contactsToShow(){if(!this.filterBy)return this.contacts;const t=new RegExp(this.filterBy.name,"i");return this.contacts.filter(e=>t.test(e.name||e.email))}}},de={class:"contact-app main-layout flex column align-center"};function me(t,e,n,r,a,o){const c=d("ContactFilter"),m=d("ContactList");return i(),l("section",de,[u(c,{onSetFilter:o.setFilter},null,8,["onSetFilter"]),u(m,{contacts:o.contactsToShow},null,8,["contacts"])])}var pe=h(ue,[["render",me]]);const he={data(){return{amountToTransfer:null}},props:{maxCoins:Number,contact:Object},methods:{transferCoins(){this.amountToTransfer>this.maxCoins||this.$emit("transferCoins",this.amountToTransfer)}}},_e={class:"transfer-fund"},fe=s("button",null,"send",-1);function ge(t,e,n,r,a,o){return i(),l("section",_e,[s("form",{onSubmit:e[1]||(e[1]=I((...c)=>o.transferCoins&&o.transferCoins(...c),["prevent"]))},[v(s("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=c=>a.amountToTransfer=c),placeholder:"Amount to transfer"},null,512),[[y,a.amountToTransfer]]),fe],32)])}var ve=h(he,[["render",ge]]);const ye={async created(){const{id:t}=this.$route.params;await this.$store.dispatch({type:"getContact",id:t})},components:{MoveList:R,TransferFund:ve},methods:{async transferCoins(t){await this.$store.dispatch({type:"addMove",contact:this.contact,amount:t}),this.$router.push("/")}},computed:{contact(){return this.$store.getters.contact},moves(){const t=this.user.moves.filter(e=>e.toId===this.contact._id);return t.sort((e,n)=>n.at-e.at),t},user(){return this.$store.getters.user},title(){return`Last 5 moves to ${this.contact.name}`}}},$e={key:0,class:"contact-details main-layout flex column align-center"},Ce={class:"flex space-between"},we=x("Back"),xe=x("Edit"),be={key:1,class:"loading"};function Se(t,e,n,r,a,o){const c=d("RouterLink"),m=d("TransferFund"),_=d("MoveList");return o.contact?(i(),l("section",$e,[s("div",Ce,[u(c,{to:"/contact"},{default:g(()=>[we]),_:1}),u(c,{to:`/contact/edit/${o.contact._id}`},{default:g(()=>[xe]),_:1},8,["to"])]),s("h3",null,f(o.contact.name),1),s("p",null,"Phone: "+f(o.contact.phone),1),s("p",null,"E-Mail: "+f(o.contact.email),1),u(m,{contact:o.contact,maxCoins:o.user.coins,onTransferCoins:o.transferCoins},null,8,["contact","maxCoins","onTransferCoins"]),u(_,{moves:o.moves,title:`All moves to ${o.contact.name}`},null,8,["moves","title"])])):(i(),l("div",be))}var Te=h(ye,[["render",Se]]),Ee="/bitwallet/assets/trash.00746895.png";const ke={async created(){const{id:t}=this.$route.params;t?await this.$store.dispatch({type:"getContact",id:t}):await this.$store.dispatch({type:"getEmptyContact",id:t})},methods:{async save(t){try{await this.$store.dispatch({type:"saveContact",contactToSave:t}),this.$router.push("/contact")}catch(e){console.log("Could not save successfully",e)}},async remove(t){try{await this.$store.dispatch({type:"removeContact",id:t}),this.$router.push("/contact")}catch(e){console.log("Could not delete successfully",e)}}},computed:{contactToEdit(){return B({},this.$store.getters.contact)},pageTitle(){const{id:t}=this.$route.params;return t?"Edit Contact":"Add Contact"}}},Le={class:"contact-edit main-layout flex column align-center"},Ie={class:"edit-actions flex space-between align-center"},Me=x("\u2190 Back"),Pe=s("img",{src:Ee},null,-1),Ue=[Pe],Be={class:"flex space-between"},De=s("h4",null,"Name:",-1),Fe={class:"flex space-between"},Re=s("h4",null,"Phone:",-1),Ae={class:"flex space-between"},Ve=s("h4",null,"eMail:",-1),Ne=s("button",null,"Save",-1);function Oe(t,e,n,r,a,o){var m;const c=d("RouterLink");return i(),l("section",Le,[s("h2",null,f(o.pageTitle),1),s("div",Ie,[u(c,{to:"/contact"},{default:g(()=>[Me]),_:1}),(m=o.contactToEdit)!=null&&m._id?(i(),l("button",{key:0,onClick:e[0]||(e[0]=_=>o.remove(o.contactToEdit._id))},Ue)):E("",!0)]),o.contactToEdit?(i(),l("form",{key:0,onSubmit:e[4]||(e[4]=I(_=>o.save(o.contactToEdit),["prevent"])),class:"flex column"},[s("label",Be,[De,v(s("input",{"onUpdate:modelValue":e[1]||(e[1]=_=>o.contactToEdit.name=_),type:"text",placeholder:"Name"},null,512),[[y,o.contactToEdit.name]])]),s("label",Fe,[Re,v(s("input",{"onUpdate:modelValue":e[2]||(e[2]=_=>o.contactToEdit.phone=_),type:"text",placeholder:"Phone"},null,512),[[y,o.contactToEdit.phone]])]),s("label",Ae,[Ve,v(s("input",{"onUpdate:modelValue":e[3]||(e[3]=_=>o.contactToEdit.email=_),type:"text",placeholder:"E-Mail"},null,512),[[y,o.contactToEdit.email]])]),Ne],32)):E("",!0)])}var je=h(ke,[["render",Oe]]);const He={data(){return{name:""}},methods:{async signup(t){if(t!=="")try{await this.$store.dispatch({type:"signup",name:t}),this.$router.push("/")}catch(e){console.log("Could not sign up successfully",e)}}}},qe={class:"signup-page main-layout"},ze=s("h3",null,"Signup and start exploring our demo!",-1),Ye=s("p",null,"Just enter your name to recieve complementary coins that allow you to use our services",-1);function Je(t,e,n,r,a,o){return i(),l("section",qe,[ze,Ye,s("form",{onSubmit:e[1]||(e[1]=I(c=>o.signup(this.name),["prevent"]))},[v(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=c=>this.name=c),placeholder:"Enter your name"},null,512),[[y,this.name]])],32)])}var Ke=h(He,[["render",Je]]);const w="contacts";var S={query:We,get:Ge,remove:Qe,save:Xe,getEmptyContact:Ze};async function We(){let t=await $.query(w);return(!t||!t.length)&&(t=tn(),await $.insert(w,t)),t}async function Ge(t){const e=await $.get(w,t);if(!e)throw new Error("Unknown contact");return e}function Qe(t){return $.remove(w,t)}function Xe(t){return t._id?$.put(w,t):$.post(w,t)}function Ze(){return{name:"",email:"",phone:""}}function tn(){return[{_id:"d99e3u2ih329",name:"Nora Channer",email:"nchanner0@myspace.com",phone:"+1 (531) 904-7601"},{_id:"09tegu6i83yd",name:"Tabby Slayny",email:"tslayny1@ucoz.com",phone:"+63 (858) 652-0461"},{_id:"a39x7zzi2121",name:"Margarette Ballefant",email:"mballefant2@imgur.com",phone:"+86 (608) 819-8196"},{_id:"sm9n3v21h225",name:"Ursola Clawsley",email:"uclawsley3@archive.org",phone:"+55 (676) 260-8427"},{_id:"it993625hn2b",name:"Innis Snaden",email:"isnaden4@devhub.com",phone:"+386 (522) 689-2908"}]}var en={state:{contacts:null,contact:null},getters:{contacts(t){return t.contacts},contact(t){return t.contact}},mutations:{setContacts(t,{contacts:e}){t.contacts=e},setContact(t,{contact:e}){t.contact=e},removeContact(t,{id:e}){const n=t.contacts.findIndex(r=>r._id===e);t.contacts.splice(n,1)},saveContact(t,{contact:e}){const n=t.contacts.findIndex(r=>r._id===e._id);n!==-1?t.contacts.splice(n,1,e):t.contacts.push(e)}},actions:{async loadContacts({commit:t}){const e=await S.query();t({type:"setContacts",contacts:e})},async getContact({commit:t},{id:e}){const n=await S.get(e);t({type:"setContact",contact:n})},async removeContact({commit:t},{id:e}){await S.remove(e),t({type:"removeContact",id:e})},async saveContact({commit:t},{contactToSave:e}){const n=await S.save(e);t({type:"saveContact",contact:n})},async getEmptyContact({commit:t}){const e=await S.getEmptyContact();t({type:"setContact",contact:e})}}},T={getUser:A,signup:nn,addMove:on,logout:sn};const k="user";function A(){const t=p.loadFromStorage(k);return Promise.resolve(t)}function nn(t){const e={id:p.getRandomId(),name:t,coins:100,moves:an()};return p.storeToStorage(k,e),Promise.resolve(e)}async function on(t,e){const n=await A();if(n.coins<e)return Promise.reject("Insufficient funds");n.coins-=e;const r={toId:t._id,to:t.name,at:Date.now(),amount:e};return n.moves.push(r),p.storeToStorage(k,n),Promise.resolve(n)}function sn(){p.storeToStorage(k,null)}function an(){return[{toId:"d99e3u2ih329",to:"Nora Channer",at:1648408113426,amount:.17},{toId:"09tegu6i83yd",to:"Tabby Slayny",at:1648409224426,amount:1},{toId:"a39x7zzi2121",to:"Margarette Ballefant",at:1648411335426,amount:2.06},{toId:"d99e3u2ih329",to:"Nora Channer",at:1648412446426,amount:.89},{toId:"d99e3u2ih329",to:"Nora Channer",at:1648413557426,amount:.03}]}var rn={state:{user:null},getters:{user(t){return t.user}},mutations:{setUser(t,{user:e}){t.user=e}},actions:{async loadUser({commit:t}){const e=await T.getUser();t({type:"setUser",user:e})},async signup({commit:t},{name:e}){const n=await T.signup(e);t({type:"setUser",user:n})},logout({commit:t}){T.logout(),t({type:"setUser",user:null})},async addMove({commit:t},{contact:e,amount:n}){const r=await T.addMove(e,n);t({type:"setUser",user:r})}}};const V=Z({strict:!0,state:{},getters:{},mutations:{},actions:{},modules:{contactModule:en,userModule:rn}}),N=tt({history:et(),routes:[{path:"/",name:"Home",component:Jt},{path:"/signup",name:"SignUp",component:Ke},{path:"/contact",name:"ContactApp",component:pe},{path:"/contact/:id",name:"ContactDetails",component:Te},{path:"/contact/edit/:id?",name:"ContactEditPage",component:je}]});N.beforeEach((t,e,n)=>{!V.getters.user&&t.name!=="SignUp"?n({name:"SignUp"}):n()});const M=nt(_t);M.use(N);M.use(V);M.mount("#app");
